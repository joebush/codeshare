<!DOCTYPE html>
<html>

<head>
    <title>Messaging Room</title>
    <!-- INCLUDE CSS -->
    <link href="resources/css/main.css" rel="stylesheet" />
    <link href="resources/css/bootstrap.min.css" rel="stylesheet" />
    <link href="resources/css/codemirror.css" rel="stylesheet" />
    <link href="resources/css/theme/rubyblue.css" rel="stylesheet" />

    <!-- INCLUDE LIBRARIES -->
    <script src="resources/js/libs/jquery-1.10.2.min.js"></script>
    <script src="resources/js/libs/codemirror.js"></script>
    <script src="resources/js/libs/codeMirrorjs.js"></script>
    <script src="resources/js/mylibs/codeMirrorInit.js"></script>
    <script src="resources/js/socket-io/socket.io.min.js"></script>
    <script src="resources/js/libs/bootstrap.min.js"></script>

    <!-- INCLUDE CHATE CODE -->
    <script src="resources/js/mylibs/ChatSocket.js"></script>
    <script src="resources/js/mylibs/Chat.js"></script>
    <script src="resources/js/mylibs/Message.js"></script>
    <script src="resources/js/mylibs/User.js"></script>

    <!-- Room ID generated from server based on URL the user has entered -->
    <script>
        ROOM_ID = <%= room_id %> ;
        NEW_ROOM = <%= new_room %> ;
        PASSWORD_PROTECTED = <%= passwordProtected %> ;
    </script>
</head>

<body>
    <section id='main_wrapper'>
        <aside id='user_list_wrapper'>
            <div id='user_list_heading'>
                <i class='glyphicon glyphicon-user'></i>
                <span>Current Users</span>
            </div>
            <div id='user_list'>
            </div>
        </aside>
        <section id='chat_wrapper' ng-controller="ChatController">
            <div id='chat_window'>
            </div>
            <div id='chat_input'>
                <textarea placeholder="Send Message..." id='message'></textarea>
                <button class='btn btn-primary'>
                    <i class='glyphicon glyphicon-envelope'></i>
                </button>
            </div>
        </section>
        <section id='code_input_wrapper'>
            <textarea id='code_entry'></textarea>
            <div id='submit_button'>
                <button class='btn btn-primary'>
                    <i class='glyphicon glyphicon-cloud-upload'></i>
                    <br>Submit Code</button>
            </div>
        </section>
    </section>
    <section id='welcome_screen'>
        <div id='username_wrapper' class='well'>
            <h1>Welcome to
                <strong>CodeShare</strong>
            </h1>
            <h3 id="enter_room">Entering Room:
                <%=room_name%>
            </h3>
            <div id='username_inner_wrapper'>
                <i class='glyphicon glyphicon-user'></i>
                <input id='username_input' type='text' placeholder="Username" />
            </div>
            <div id='password_inner_wrapper'>
                <i class='glyphicon glyphicon-asterisk'></i>
                <input id='password_input' type='password' placeholder="Password" />
            </div>
            <button class='btn btn-primary'>Enter
                <i class='glyphicon glyphicon-log-in'></i>
            </button>
        </div>
    </section>
    <div id="myModal" class="modal fade">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Create Room:
                        <%=room_name%>
                    </h4>
                </div>
                <div class="modal-body">
                    <h4>You have just created a new room.</h4>
                    <p>Please provide a password</p>
                    <input type='password' id='new_room_password' placeholder="Password" />
                </div>
                <div class="modal-footer">
                    <button id="create_private_button" type="button" class="btn btn-primary">Create Private Room</button>
                    <button id="create_public_button" type="button" class="btn btn-default">Create Public Room</button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- /.modal -->

</body>

</html>
